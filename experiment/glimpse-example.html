<!DOCTYPE html>
<html>
  <head>
    <title>One Graph</title>
    <script type="text/javascript" src="d3.js"></script>
    <script type="text/javascript" src="glimpse.js"></script>
  </head>
  <body>
    <div id="coolgraph"></div><!-- style="width: 480px; height: 250px" -->
    <div id="nicegraph"></div>
    <script type="text/javascript">
      var latencyData = [
        {"x":1317279600000,"y":106.19392367079854},
        {"x":1317695968421.0527,"y":56.03559841401875},
        {"x":1318112336842.1052,"y":126.56398699618876},
        {"x":1318528705263.158,"y":147.48531440272927},
        {"x":1318945073684.2104,"y":134.64964700397104},
        {"x":1319361442105.2632,"y":114.76828635204583},
        {"x":1319777810526.3157,"y":77.50583724118769},
        {"x":1320194178947.3684,"y":74.262569937855},
        {"x":1320610547368.4211,"y":124.86097845248878},
        {"x":1321026915789.4736,"y":88.70440365280956},
        {"x":1321443284210.5264,"y":126.80981094017625},
        {"x":1321859652631.5789,"y":115.363494399935},
        {"x":1322276021052.6316,"y":100.65460556652397}];

        var mygraph = glimpse
                        .graph({title: 'Live Metrics', menu: true, zoom: true})
                        .data({id: 'latency', data: latencyData})
                        .layer({renderer: 'barGraph', dataSourceId: 'latency'})
                        .layer({renderer: 'lineGraph', dataSourceId: 'latency'})
                        .style('{$id} { font: 10px sans-serif; }')
                        .style('.x.axis line, .y.axis line {  stroke: #ccc; } .x.axis path,.y.axis path { display: none; }')
                        .style('@media only screen and (max-width:500px){ {$id} text, {$id} line, .legend { display: none; } .gl-event-zoom { display: none; } }')
                        .loading(true)
                        .render('#coolgraph');
        mygraph.loading(false); //Runtime change in config
        var nicegraph = mygraph.clone().data({id: 'latency', data: latencyData}).render('#nicegraph');
    </script>
  </body>
</html>

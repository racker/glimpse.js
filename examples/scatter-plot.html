<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="common.css">
  </head>
  <body>
    <h1>Scatter Plot Graph</h1>
    <h3>This example illustrates how to render a simple scatter plot graph</h3>
    <div id="container"></div>
    <script src="../components/requirejs/require.js"></script>
    <script src="../requirejs.conf.js"></script>
    <script>
      require(['glimpse'], function (glimpse) {
        'use strict';

        // Actual raw sample data.
        var oneHr = 1000 * 60 * 60;
        var sampleData1 = [
            { x: 0,       y: 100 },
            { x: oneHr,   y: 50 },
            { x: oneHr*2, y: 25 },
            { x: oneHr*3, y: 25 }
          ];
        var sampleData2 = [
            { x: 0,       y: 30 },
            { x: oneHr,   y: 22 },
            { x: oneHr*2, y: 67 },
            { x: oneHr*3, y: 44 }
          ];
        var sampleData3 = [
            { x: 0,       y: 120 },
            { x: oneHr,   y: 90 },
            { x: oneHr*2, y: 140 },
            { x: oneHr*3, y: 46 }
          ];

        var tooltipFn = function(d) {
          return 'x: ' + d.x + '\n' + 'y: ' + d.y;
        };

        // Configure which data to show.
        var dataConfig = [
          {
            id: 'set1',
            title: 'Set 1',
            data: sampleData1,
            dimensions: {
              tooltip: tooltipFn
            }
          },
          {
            id: 'set2',
            title: 'Set 2',
            data: sampleData2,
            dimensions: {
              tooltip: tooltipFn
            }
          },
          {
            id: 'set3',
            title: 'Set 3',
            data: sampleData3,
            dimensions: {
              tooltip: tooltipFn
            }
          }
        ];

        // Create and render a line graph.
        var scatterGraph = glimpse.graphBuilder().create('scatter')
          .data(dataConfig)
          .render('#container');

        // for debugging
        window.graph = scatterGraph;
      });
    </script>
  </body>
</html>
